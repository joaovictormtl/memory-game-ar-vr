<!DOCTYPE html>
<html lang="pt-br">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <script src="https://aframe.io/releases/1.2.0/aframe.min.js"></script>
    <script src="https://cdn.rawgit.com/jeromeetienne/ar.js/2.2.0/aframe/build/aframe-ar.js"></script>
    <title>Memory Game</title>
  </head>
  <body style="overflow: hidden;">
    <a-scene vr-mode-ui="enabled: true" embedded arjs="sourceType: webcam; debugUIEnabled: false;">
      
      <a-assets>
        <a-asset-item id="comfortaaFont" src=""></a-asset-item>
      </a-assets>
      
      <a-entity camera look-controls>
        <a-entity 
          cursor="fuse: true; fuseTimeOut: 2000"
          geometry="primitive: ring; radiusInner: 0.005; radiusOuter: 0.01;" 
          material="color: #e6ffff; shader: flat;"
          position="0 0 -1"></a-entity>
      </a-entity>
      
      <!-- Sky -->
      <a-sky color="#c1c1c1"></a-sky>
      
      <a-text
        value="Memory Game"
        position="0 2.5 -13"
        scale="3 3 1"
        font=""
        align="center">
      </a-text>
      
      <a-plane
        id="welcome-msg"
        position="0 0 -10"
        width="5"
        height="2"
        color="#eee">
        
        <a-text
          color="#333"
          value="Iniciar"
          position="0 0 1"
          align="center">
        </a-text>
      </a-plane>
      
      <a-entity id="game-container" position="0 3 -18">
        
      </a-entity>
    </a-scene>
  </body>
  
  <script>
    const gameContainer = document.querySelector("#game-container");
    
    function criarBoxes(){
      let imgs = [
      "img/card-html.png",
      "img/card-css.png",
      "img/card-html.png",
      "img/card-npm.png",
      "img/card-sql.png",
      "img/card-npm.png",
      "img/card-react.png",
      "img/card-sql.png",
      "img/card-java.png",
      "img/card-css.png",
      "img/card-java.png",
      "img/card-react.png"
      ].sort(function() { return 0.5 - Math.random() });
      
      imgs.forEach((img, index)=>{
        const aBox = document.createElement("a-box");
        aBox.setAttribute("class", "item");
        aBox.setAttribute("width", "2");
        aBox.setAttribute("height", "2");
        aBox.setAttribute("color", "#333")
        aBox.setAttribute("position", `${(index % 3) * 2.5 - 2.5} ${-Math.floor(index / 3) * 2.5} 0`);
        aBox.setAttribute("rotation", "0 180 0");
        // aBox.setAttribute("material", "opacity: 0; ")
        
        const aImage = document.createElement("a-image");
        aImage.setAttribute("src", `${img}`);
        aImage.setAttribute("width", "1.8");
        aImage.setAttribute("height", "1.8");
        aImage.setAttribute("rotation", "0 0 0");
        aImage.setAttribute("position", "0 0 0.8");
        
        aBox.appendChild(aImage);
        gameContainer.appendChild(aBox);
        
      });
    }
    
    function addEventoMouse(){
      document.querySelectorAll("a-box.item").forEach(item=>{
      let timeoutId;
      
      // Evento de mouseenter: Faz a a-box revelar o card
      item.addEventListener("mouseenter", ()=>{
        item.setAttribute("animation", {
          property: "rotation",
          to: "0 0 0",
          dur: 1000
        });
        item.setAttribute("color", "#73fc03");
        
        });
      });
    }
    
      
      //Evento de mouseleave: Faz a a-box ocultar o card
      // item.addEventListener("mouseleave", () => {
      //   item.setAttribute("animation", {
      //       property: "rotation",
      //       to: "0 180 0",
      //       dur: 700
      //   });
      //   item.setAttribute("color", "#333");
      // });
    
    
    window.addEventListener("load", function(){
      
    })
  </script>
</html>
